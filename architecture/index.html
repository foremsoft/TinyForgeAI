
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Train tiny language models from your data and deploy as microservices">
      
      
      
        <link rel="canonical" href="https://anthropics.github.io/TinyForgeAI/architecture/">
      
      
      
        <link rel="next" href="../training/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Architecture - TinyForgeAI</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tinyforgeai-architecture" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="TinyForgeAI" class="md-header__button md-logo" aria-label="TinyForgeAI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TinyForgeAI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Architecture
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/anthropics/TinyForgeAI" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    anthropics/TinyForgeAI
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="TinyForgeAI" class="md-nav__button md-logo" aria-label="TinyForgeAI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    TinyForgeAI
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/anthropics/TinyForgeAI" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    anthropics/TinyForgeAI
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/installation.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/quickstart.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture Diagram
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#train-export-serve-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Train → Export → Serve Pipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Train → Export → Serve Pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-prepare-training-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Prepare Training Data
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-train-the-model-dry-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Train the Model (Dry-Run)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-export-to-microservice" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Export to Microservice
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-serve-the-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Serve the Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-make-predictions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Make Predictions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-cli-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using the CLI (Recommended)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-the-demo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Run the Demo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operational-concerns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Operational Concerns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Operational Concerns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource Considerations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring-and-logging" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring and Logging
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where-to-find-the-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        Where to Find the Code
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Related Documentation
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../training/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Training
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connectors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Connectors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_onboarding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Developer Onboarding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Deployment
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deployment
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deployment/docker.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deployment/kubernetes.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kubernetes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../release/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture Diagram
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#train-export-serve-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Train → Export → Serve Pipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Train → Export → Serve Pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-prepare-training-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Prepare Training Data
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-train-the-model-dry-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Train the Model (Dry-Run)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-export-to-microservice" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Export to Microservice
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-serve-the-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Serve the Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-make-predictions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Make Predictions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-cli-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using the CLI (Recommended)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-the-demo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Run the Demo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operational-concerns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Operational Concerns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Operational Concerns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource Considerations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring-and-logging" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring and Logging
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where-to-find-the-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        Where to Find the Code
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Related Documentation
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="tinyforgeai-architecture">TinyForgeAI Architecture<a class="headerlink" href="#tinyforgeai-architecture" title="Permanent link">&para;</a></h1>
<!-- Generated by Claude Code: Step I.1 -->

<p><strong>Last updated:</strong> 2025-01-15T00:00:00Z</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>TinyForgeAI is a lightweight platform for fine-tuning language models and deploying them as inference microservices. The system is designed with simplicity and developer experience in mind, enabling rapid prototyping of ML-powered applications without heavy infrastructure dependencies.</p>
<p>The platform follows a modular architecture where each component can operate independently or as part of an integrated pipeline. Data flows from various sources through connectors, gets processed by the training pipeline, and results in deployable model artifacts that can be served via containerized inference servers.</p>
<p>TinyForgeAI emphasizes offline-first development with mock modes for all external integrations, making it possible to develop and test the entire pipeline without network access or cloud credentials. The system produces lightweight artifacts suitable for CPU inference, with optional ONNX export and quantization for optimized deployment.</p>
<p>The CLI tool (<code>foremforge</code>) provides a unified interface for all platform operations, from project initialization to model serving, while the underlying Python APIs remain accessible for programmatic use and custom integrations.</p>
<h2 id="architecture-diagram">Architecture Diagram<a class="headerlink" href="#architecture-diagram" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>flowchart TB
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    subgraph Input[&quot;Data Sources&quot;]
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>        CLI[CLI / foremforge]
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>        API[Backend API]
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>        Files[Local Files]
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    end
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    subgraph Connectors[&quot;Data Connector Layer&quot;]
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>        DB[Database Connector]
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        GDocs[Google Docs Connector]
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        FileIngest[File Ingestion]
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    end
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    subgraph Training[&quot;Training Pipeline&quot;]
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>        Dataset[Dataset Loader]
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>        Trainer[Training Orchestrator]
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>        PEFT[PEFT/LoRA Adapter]
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    end
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>    subgraph Storage[&quot;Model Registry&quot;]
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>        Artifacts[Model Artifacts]
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>        Metadata[Metadata JSON]
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>        ONNX[ONNX Models]
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>    end
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>    subgraph Export[&quot;Exporter/Packaging&quot;]
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>        Builder[Microservice Builder]
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>        Quantize[Quantization Hook]
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>        Docker[Docker Packaging]
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>    end
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>    subgraph Serving[&quot;Inference Layer&quot;]
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>        Server[Inference Server]
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>        Health[Health Endpoints]
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>        Predict[Predict API]
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>    end
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>    subgraph Optional[&quot;Optional Components&quot;]
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>        RAG[RAG / Vector DB]
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>        Monitor[Monitoring]
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>    end
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>    CLI --&gt; API
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a>    API --&gt; Connectors
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>    Files --&gt; FileIngest
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a>    Connectors --&gt; Dataset
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a>    Dataset --&gt; Trainer
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a>    Trainer --&gt; PEFT
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a>    PEFT --&gt; Artifacts
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a>
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a>    Artifacts --&gt; Metadata
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a>    Artifacts --&gt; ONNX
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a>
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a>    Artifacts --&gt; Builder
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a>    ONNX --&gt; Quantize
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a>    Builder --&gt; Docker
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a>
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a>    Docker --&gt; Server
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a>    Server --&gt; Health
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#__codelineno-0-61"></a>    Server --&gt; Predict
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#__codelineno-0-62"></a>
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#__codelineno-0-63"></a>    Trainer -.-&gt; RAG
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#__codelineno-0-64"></a>    Server -.-&gt; Monitor
</code></pre></div>
<h2 id="train-export-serve-pipeline">Train → Export → Serve Pipeline<a class="headerlink" href="#train-export-serve-pipeline" title="Permanent link">&para;</a></h2>
<p>The complete workflow from raw data to serving predictions follows these steps:</p>
<h3 id="step-1-prepare-training-data">Step 1: Prepare Training Data<a class="headerlink" href="#step-1-prepare-training-data" title="Permanent link">&para;</a></h3>
<p>Create a JSONL file with input/output pairs:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># View sample data format</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>cat<span class="w"> </span>examples/sample_qna.jsonl
</code></pre></div>
<h3 id="step-2-train-the-model-dry-run">Step 2: Train the Model (Dry-Run)<a class="headerlink" href="#step-2-train-the-model-dry-run" title="Permanent link">&para;</a></h3>
<p>Run the training pipeline to validate data and create model artifacts:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># Basic dry-run training</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>python<span class="w"> </span>backend/training/train.py<span class="w"> </span>--data<span class="w"> </span>examples/sample_qna.jsonl<span class="w"> </span>--out<span class="w"> </span>/tmp/tiny_model<span class="w"> </span>--dry-run
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c1"># With LoRA adapter</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>python<span class="w"> </span>backend/training/train.py<span class="w"> </span>--data<span class="w"> </span>examples/sample_qna.jsonl<span class="w"> </span>--out<span class="w"> </span>/tmp/tiny_model<span class="w"> </span>--dry-run<span class="w"> </span>--use-lora
</code></pre></div>
<p>This creates <code>/tmp/tiny_model/model_stub.json</code> with model metadata.</p>
<h3 id="step-3-export-to-microservice">Step 3: Export to Microservice<a class="headerlink" href="#step-3-export-to-microservice" title="Permanent link">&para;</a></h3>
<p>Package the model into a deployable inference service:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Basic export</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>python<span class="w"> </span>backend/exporter/builder.py<span class="w"> </span>--model-path<span class="w"> </span>/tmp/tiny_model/model_stub.json<span class="w"> </span>--output-dir<span class="w"> </span>/tmp/tiny_service<span class="w"> </span>--overwrite
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1"># With ONNX export and quantization</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>python<span class="w"> </span>backend/exporter/builder.py<span class="w"> </span>--model-path<span class="w"> </span>/tmp/tiny_model/model_stub.json<span class="w"> </span>--output-dir<span class="w"> </span>/tmp/tiny_service<span class="w"> </span>--overwrite<span class="w"> </span>--export-onnx
</code></pre></div>
<p>This creates a complete microservice in <code>/tmp/tiny_service/</code>.</p>
<h3 id="step-4-serve-the-model">Step 4: Serve the Model<a class="headerlink" href="#step-4-serve-the-model" title="Permanent link">&para;</a></h3>
<p>Start the inference server:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># Using uvicorn directly</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nb">cd</span><span class="w"> </span>/tmp/tiny_service
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>uvicorn<span class="w"> </span>app:app<span class="w"> </span>--host<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span>--port<span class="w"> </span><span class="m">8001</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="c1"># Or using the CLI</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>foremforge<span class="w"> </span>serve<span class="w"> </span>--dir<span class="w"> </span>/tmp/tiny_service<span class="w"> </span>--port<span class="w"> </span><span class="m">8001</span>
</code></pre></div>
<h3 id="step-5-make-predictions">Step 5: Make Predictions<a class="headerlink" href="#step-5-make-predictions" title="Permanent link">&para;</a></h3>
<p>Query the running server:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># Health check</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>curl<span class="w"> </span>-sS<span class="w"> </span>http://127.0.0.1:8001/health
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1"># Make a prediction</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>curl<span class="w"> </span>-sS<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://127.0.0.1:8001/predict<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;text&quot;:&quot;hello&quot;}&#39;</span>
</code></pre></div>
<h3 id="using-the-cli-recommended">Using the CLI (Recommended)<a class="headerlink" href="#using-the-cli-recommended" title="Permanent link">&para;</a></h3>
<p>The <code>foremforge</code> CLI simplifies the entire workflow:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># Initialize project structure</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>foremforge<span class="w"> </span>init<span class="w"> </span>--yes
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="c1"># Train</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>foremforge<span class="w"> </span>train<span class="w"> </span>--data<span class="w"> </span>examples/sample_qna.jsonl<span class="w"> </span>--out<span class="w"> </span>/tmp/tiny_model<span class="w"> </span>--dry-run
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="c1"># Export with ONNX</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>foremforge<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--model<span class="w"> </span>/tmp/tiny_model/model_stub.json<span class="w"> </span>--out<span class="w"> </span>/tmp/tiny_service<span class="w"> </span>--overwrite<span class="w"> </span>--export-onnx
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="c1"># Serve</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>foremforge<span class="w"> </span>serve<span class="w"> </span>--dir<span class="w"> </span>/tmp/tiny_service<span class="w"> </span>--port<span class="w"> </span><span class="m">8001</span>
</code></pre></div>
<h2 id="run-the-demo">Run the Demo<a class="headerlink" href="#run-the-demo" title="Permanent link">&para;</a></h2>
<p>Try the complete workflow with our end-to-end demo scripts:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Using bash (Linux/macOS/Git Bash on Windows)</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>bash<span class="w"> </span>examples/e2e_demo.sh
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="c1"># Using Python (cross-platform)</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>python<span class="w"> </span>examples/e2e_demo.py
</code></pre></div>
<p>The demo performs all steps automatically:
1. Creates a temporary workspace
2. Copies sample training data
3. Runs dry-run training to create <code>model_stub.json</code>
4. Exports to an inference microservice
5. Tests the <code>/predict</code> endpoint using FastAPI TestClient</p>
<p>Expected output:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>[Step 4] Running smoke test against generated service...
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>  -&gt; Inference response:
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>{
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>  &quot;output&quot;: &quot;olleh&quot;,
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>  &quot;confidence&quot;: 0.75
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>}
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>==================================================
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>Demo Complete!
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>==================================================
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>Summary:
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>  Model path:     /tmp/xxx/tiny_model/model_stub.json
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>  Service path:   /tmp/xxx/service
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>  Response:       {&quot;output&quot;: &quot;olleh&quot;, &quot;confidence&quot;: 0.75}
</code></pre></div>
<p>Use <code>--cleanup</code> to automatically delete the workspace when done.</p>
<h2 id="operational-concerns">Operational Concerns<a class="headerlink" href="#operational-concerns" title="Permanent link">&para;</a></h2>
<h3 id="security">Security<a class="headerlink" href="#security" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>API Keys</strong>: Never commit credentials to the repository. Use environment variables or <code>.env</code> files (excluded from git).</li>
<li><strong>Private Data</strong>: Training data may contain sensitive information. Ensure proper access controls on data directories and model artifacts.</li>
<li><strong>Network Exposure</strong>: The inference server binds to <code>0.0.0.0</code> by default. In production, use a reverse proxy (nginx) with TLS.</li>
<li><strong>Docker Security</strong>: The Dockerfile runs as a non-root user. Ensure mounted volumes have appropriate permissions.</li>
</ul>
<h3 id="resource-considerations">Resource Considerations<a class="headerlink" href="#resource-considerations" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>CPU Inference</strong>: The stub implementation is lightweight. Real model inference may require significant CPU/memory.</li>
<li><strong>Quantization</strong>: Use INT8 quantization (<code>--export-onnx</code>) to reduce model size and improve CPU inference speed.</li>
<li><strong>Memory</strong>: Monitor memory usage during training. Large datasets should be streamed rather than loaded entirely.</li>
<li><strong>Disk Space</strong>: Model artifacts and ONNX files can be large. Implement cleanup policies for old artifacts.</li>
</ul>
<h3 id="monitoring-and-logging">Monitoring and Logging<a class="headerlink" href="#monitoring-and-logging" title="Permanent link">&para;</a></h3>
<p>Key monitoring points:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Endpoint/Log</th>
<th>What to Monitor</th>
</tr>
</thead>
<tbody>
<tr>
<td>Inference Server</td>
<td><code>/health</code></td>
<td>Uptime, response time</td>
</tr>
<tr>
<td>Inference Server</td>
<td><code>/predict</code></td>
<td>Latency, error rate, throughput</td>
</tr>
<tr>
<td>Training</td>
<td>stdout logs</td>
<td>Progress, validation metrics</td>
</tr>
<tr>
<td>Docker</td>
<td>Container logs</td>
<td>Startup errors, OOM events</td>
</tr>
</tbody>
</table>
<p>Logging configuration:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># Set log level via environment variable</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">LOG_LEVEL</span><span class="o">=</span><span class="n">DEBUG</span> <span class="n">python</span> <span class="n">backend</span><span class="o">/</span><span class="n">training</span><span class="o">/</span><span class="n">train</span><span class="o">.</span><span class="n">py</span> <span class="o">...</span>
</code></pre></div>
<h2 id="where-to-find-the-code">Where to Find the Code<a class="headerlink" href="#where-to-find-the-code" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Component</th>
<th>Path</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Backend API</td>
<td><code>backend/api/</code></td>
<td>FastAPI application with health routes</td>
</tr>
<tr>
<td>Training Pipeline</td>
<td><code>backend/training/</code></td>
<td>Dataset loader, trainer, PEFT adapter</td>
</tr>
<tr>
<td>Model Exporter</td>
<td><code>backend/exporter/</code></td>
<td>Builder, ONNX export, quantization</td>
</tr>
<tr>
<td>Data Connectors</td>
<td><code>connectors/</code></td>
<td>DB, Google Docs, file ingestion</td>
</tr>
<tr>
<td>Inference Server</td>
<td><code>inference_server/</code></td>
<td>FastAPI inference service template</td>
</tr>
<tr>
<td>CLI Tool</td>
<td><code>cli/</code></td>
<td>foremforge Click-based CLI</td>
</tr>
<tr>
<td>Docker Config</td>
<td><code>docker/</code></td>
<td>Dockerfile and docker-compose</td>
</tr>
<tr>
<td>Tests</td>
<td><code>tests/</code></td>
<td>pytest test suite</td>
</tr>
<tr>
<td>Documentation</td>
<td><code>docs/</code></td>
<td>This documentation</td>
</tr>
<tr>
<td>Examples</td>
<td><code>examples/</code></td>
<td>Sample data files</td>
</tr>
</tbody>
</table>
<h2 id="related-documentation">Related Documentation<a class="headerlink" href="#related-documentation" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../training/">Training Pipeline</a> - Detailed training documentation</li>
<li><a href="../connectors/">Data Connectors</a> - Connector configuration and usage</li>
<li><a href="../ci/">CI/CD</a> - Continuous integration setup</li>
<li><a href="../docker/README.md">Docker Guide</a> - Container deployment</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/anthropics/TinyForgeAI" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.sections", "navigation.expand", "toc.follow", "content.code.copy"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>