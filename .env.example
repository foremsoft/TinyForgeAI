# TinyForgeAI Environment Configuration
# Copy this file to .env and customize for your environment
# Usage: cp .env.example .env

# =============================================================================
# Application Settings
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
TINYFORGE_LOG_LEVEL=INFO

# Environment: development, staging, production
TINYFORGE_ENV=development

# =============================================================================
# Model Training Settings
# =============================================================================

# Default model for training (HuggingFace model name or path)
TINYFORGE_DEFAULT_MODEL=distilbert-base-uncased

# Output directory for trained models
TINYFORGE_OUTPUT_DIR=./output

# Device: auto, cpu, cuda, cuda:0, cuda:1, mps (Apple Silicon)
TINYFORGE_DEVICE=auto

# Enable mixed precision training (fp16) - reduces memory usage
TINYFORGE_USE_FP16=true

# =============================================================================
# Training Hyperparameters (Defaults)
# =============================================================================

# Number of training epochs
TINYFORGE_NUM_EPOCHS=3

# Batch size (reduce if running out of memory)
TINYFORGE_BATCH_SIZE=8

# Learning rate
TINYFORGE_LEARNING_RATE=2e-5

# Maximum sequence length
TINYFORGE_MAX_LENGTH=512

# =============================================================================
# LoRA Settings (for efficient fine-tuning)
# =============================================================================

# Enable LoRA by default
TINYFORGE_USE_LORA=false

# LoRA rank (lower = smaller adapter, less memory)
TINYFORGE_LORA_R=8

# LoRA alpha (scaling factor, typically 2x rank)
TINYFORGE_LORA_ALPHA=16

# LoRA dropout
TINYFORGE_LORA_DROPOUT=0.1

# =============================================================================
# RAG (Retrieval-Augmented Generation) Settings
# =============================================================================

# Embedding model for document indexing
TINYFORGE_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Chunk size for document splitting (characters)
TINYFORGE_CHUNK_SIZE=512

# Chunk overlap (characters)
TINYFORGE_CHUNK_OVERLAP=50

# Index storage path
TINYFORGE_INDEX_PATH=./data/index

# =============================================================================
# Inference Server Settings
# =============================================================================

# Server host
TINYFORGE_HOST=0.0.0.0

# Server port
TINYFORGE_PORT=8000

# Number of workers (for production)
TINYFORGE_WORKERS=1

# Enable CORS (comma-separated origins, or * for all)
TINYFORGE_CORS_ORIGINS=*

# =============================================================================
# Dashboard API Settings
# =============================================================================

# Dashboard API port
TINYFORGE_DASHBOARD_PORT=8001

# Enable API authentication
TINYFORGE_AUTH_ENABLED=false

# API secret key (generate with: openssl rand -hex 32)
TINYFORGE_SECRET_KEY=your-secret-key-here

# =============================================================================
# Database Settings (for job tracking)
# =============================================================================

# Database URL (SQLite by default)
TINYFORGE_DATABASE_URL=sqlite:///./data/tinyforge.db

# =============================================================================
# External Integrations
# =============================================================================

# HuggingFace Hub token (for private models)
# Get from: https://huggingface.co/settings/tokens
HUGGINGFACE_TOKEN=

# Weights & Biases API key (for experiment tracking)
# Get from: https://wandb.ai/settings
WANDB_API_KEY=

# MLflow tracking URI
MLFLOW_TRACKING_URI=

# =============================================================================
# Docker/Deployment Settings
# =============================================================================

# Docker image tag
DOCKER_TAG=latest

# Container memory limit
DOCKER_MEMORY_LIMIT=4g

# GPU support in Docker (nvidia, none)
DOCKER_GPU=none
